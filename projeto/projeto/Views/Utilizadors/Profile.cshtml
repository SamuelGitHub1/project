@model projeto.Models.Utilizador

@{
    ViewData["Title"] = "Profile";
}

@if (TempData["Success"] != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["Success"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}

@{
    var english = Context.Request.Cookies["language"] == "en" || Context.Request.Cookies["language"] == null;
}


@if (TempData["Success"] != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["Success"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-lg border-0 rounded">
                <div class="card-header bg-success text-white text-center">
                    <h3>@(english ? "Welcom," : "Bem-vindo,") <b>@Model.Nome </b></h3>
                </div>
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h5 class="card-title">@(english ? "Profile Information" : "Informação do perfil")</h5>
                        <a href="@Url.Action("Edit", "Utilizadors", new { id = Model.UtilizadorId })" class="btn btn-outline-dark btn-sm">
                            <i class="fas fa-edit"></i> @(english ? "Edit Profile" : "Editar profile")
                        </a>
                    </div>


                    <div class="row">
                        <div class="col-md-9">
                            <p><strong>Email:</strong> @Model.Email</p>
                            <p><strong>@(english ? "Name:" : "Nome:")</strong> @Model.Nome</p>
                            <p><strong>@(english ? "Address:" : "Morada:")</strong> @Model.Morada</p>
                            <p><strong>@(english ? "Postal Code:" : "Código Postal:")</strong> @Model.CodigoPostal</p>
                            <p><strong>@(english ? "Phone:" : "Telemóvel:")</strong> @Model.Telemovel</p>
                            <p><strong>@(english ? "Country:" : "País:")</strong> @Model.Pais</p>
                            <p><strong>@(english ? "Points:" : "Pontos:")</strong> @Model.Pontos</p>
                            <p><strong>@(english ? "User Type:" : "Tipo de utilizador:")</strong> @Model.EstadoConta</p>
                        </div>
                        <div class="col-md-3">
                            <img src="@Url.Content(Model.ImagePath)" class="img-fluid rounded-circle" alt="Profile Image" width="150" height="150" />
                            <br />
                            <a href="@Url.Action("EditAvatar", "Utilizadors", new { id = Model.UtilizadorId })" class="btn btn-outline-dark btn-sm mt-2">
                                <i class="fas fa-edit"></i> @(english ? "Edit Avatar" : "Editar Avatar")
                            </a>
                        </div>
                    </div>

                    <div class="btn-group w-100" role="group">
                        <a href="@Url.Action("MyAuctions", "Leilaos", new { id = Model.UtilizadorId })" class="btn-profile">
                            @(english ? "My Auctions" : "Meus Leilões")
                        </a>
                        <a href="@Url.Action("ConfirmPassword", "Utilizadors", new { id = Model.UtilizadorId })" class="btn-profile">
                            @(english ? "Change Password" : "Alterar Senha")
                        </a>
                        <button id="cancel-account-btn" class="btn-profile cancel-btn">
                            @(english ? "Cancel Account" : "Cancelar Conta")
                        </button>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
