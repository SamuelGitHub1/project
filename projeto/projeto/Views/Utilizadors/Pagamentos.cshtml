@{
    ViewData["Title"] = "Pagamentos com Stripe";
}

<h2 style="margin-top:50px;">Simulação de Pagamento</h2>

<!-- Formulário que faz um POST para ProcessPayment -->
<form method="post" action="ProcessPayment">
    <button href="@Url.Action("ProcessPayment", "Utilizadors")" type="submit" class="btn btn-primary">💳 Fazer Pagamento</button>
</form>

<!-- Exibir o resultado do pagamento -->
@if (ViewBag.Sucesso != null)
{
    @if (ViewBag.Sucesso == true)
    {
        <div class="alert alert-success" style="margin-top: 20px;">
            ✅ <strong>Pagamento bem-sucedido!</strong><br>
            <strong>ID:</strong> @ViewBag.PagamentoID <br>
            <strong>Valor:</strong> @ViewBag.Valor EUR<br>
            <strong>Estado:</strong> @ViewBag.Status
        </div>
    }
    else
    {
        <div class="alert alert-danger" style="margin-top: 20px;">
            ❌ Erro: @ViewBag.Erro
        </div>
    }
}
